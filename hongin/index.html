<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>

  <link rel="stylesheet" href="font/font.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- <script src="js/script.js"></script> -->

  <link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/index.css">
  <link rel="stylesheet" href="css/core.css">

</head>

<body>
  <header class="row">
    <div class="container">
      <div class="Logo">
        나쁜기억지우개
      </div>
      <form class="SearchBar" action="index.html" method="post">
        <input type="text" name="" value="" placeholder="해시태그검색">
      </form>

      <div class="joke">
        잡답
      </div>
      <div class="concern">
        고민
      </div>
      <div class="login">
        <a href="#">로그인 하세요</a>
      </div>
      <div class="alarm">
        <img src="" alt="알람">
      </div>
      <div class="store">
        <img src="" alt="상점">
      </div>
      <div class="setting">
        <img src="" alt="설정">
      </div>

    </div>

  </header>

  <!-- container -->
  <div class="container">

    <div id="main">
      <div class="box">
        <div class="content">
          <div class="shield">
            <form class="" action="index.html" method="post">
              <div class="plus">
                +
              </div>
              <div class="text">
                <textarea name="name" rows="8" cols="80" style="width:100%;resize:none"></textarea>

              </div>
              <button type="submit" name="button">새글 쓰기</button>
            </div>
            </form>

        </div>
      </div>

      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여

            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              asdasdsad
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm # xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">

              안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm #알람 #행동 #가방안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. xptmxm #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm
            </div>
          </div>

        </div>
      </div>
      <div class="box">
        <div class="content">
          <div class="shield">
            <div class="text">
              #알람 #행동 #가방 안녕하세요 저는 서울사는 친구입니다. 안녕하세여 xptmxm xptmxm
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- side bar CODE_NAME = MATE -->
  <div class="asidegroup">
    <div class="aside">
      M<br>
      A<br>
      T<br>
      E<br>

    </div>

  </div>


  <script>
    // var textxontent = $(".text").text();
    // console.log(textxontent);
    // var hash = location.hash = '알람';
    // //hash.style.color = 'yellow';
    // console.log(hash);

    //알람작업

    $(window).on('load', function() {
      window.onresize = function() {
        location.reload();
      }
      waterFall();
      var dataInt = {
        "data": [{
          "src": "0.jpg"
        }, {
          "src": "1.jpg"
        }, {
          "src": "2.jpg"
        }, {
          "src": "3.jpg"
        }]
      };
      $(window).on('scroll', function() {
        if (checkScrollSlide()) {
          $.each(dataInt.data, function() {
            var tt = " #알람 #행동 #가방<br>안녕하세요 저는 서울사는 친구입니다.<br>안녕하세여<br> 안녕하세요 저는 서울사는 친구입니다.<br>안녕하세요 저는 서울사는 친구입니다.<br>안녕하세요 저는 서울사는 친구입니다.<br>안녕하세요 저는 서울사는 친구입니다.<br>안녕하세요 저는 서울사는 친구입니다.<br>xptmxm<br>";
            var oBox = $('<div>').addClass('box').appendTo($('#main'));
            var oPic = $('<div>').addClass('content').appendTo(oBox);
            var oshield = $('<div>').addClass('shield').appendTo(oPic);
            $('<div>').addClass('text1').append(tt).appendTo(oshield);
          });
          waterFall();
        }
      });
    });

    function waterFall() {
      var $boxs = $('#main>div');

      //alert($(document).outerWidth());
      var w = parseFloat($(document).outerWidth() * parseFloat('0.6') / parseInt('4')); //박스의 넓이를 계산

      //alert(w);
      if ($(window).width() > 1024)
        var cols = Math.floor('4'); //윈도우창 전체의 넓이에서 박스의 넓이를 나눔.
      else {
        var cols = Math.floor('3');
      }
      //$("#main").width().css('margin','0 auto');	//박스의 넓이랑 컬럼의 갯수를 생각해서 곱함.
      //메인 크기만듬 이제 컬럼 4개넣으면됨.
      $boxs.width($('#main').outerWidth() * 0.9 / cols);
      var boxwid = $boxs.outerWidth();



      //var w=$('.container').outerWidth();
      //alert(w);
      //var res = parseInt("4");
      //var w = $('.container').outerWidth()/res;
      //var cols=parseInt('5');
      //  console.log(res);
      //  console.log(w);
      //console.log('cols = '+cols);

      //alert($(window).width());
      //	alert($(window).width());
      //$("#main").width(cols).css('margin','0 auto');	//메인박스 크기구하는거 스타일까지 세팅끝

      //$(".box").width($('.container').width()/cols);


      var hArr = [];

      $boxs.each(function(index, value) {

        var h = $boxs.eq(index).outerHeight(); //각박스의 높이같음.
        //console.log(index);
        //console.log(h);
        //alert(h);

        if (index < cols) {
          //  console.log(cols);
          hArr.push(h);
          //  console.log(hArr.length);
        } else {
          minH = Math.min.apply(null, hArr); //Math안에있는 min안에 hArr안 배열의 최솟값
          //  console.log('배열의 값은 '+hArr+'minH is ='+ minH);
          //  console.log(minH);
          var minHeightIndex = $.inArray(minH, hArr);

          //  console.log(value)
          //  console.log(minHeightIndex);
          //  console.log(boxwid);
          //  console.log(minHeightIndex*boxwid);
          $(value).css({

            'position': 'absolute',
            'top': minH + 'px',
            'left': minHeightIndex * boxwid + 'px'

          });
          hArr[minHeightIndex] += $boxs.eq(index).outerHeight();
        }
      });
      //console.log(hArr);
    }

    function checkScrollSlide() {
      var $lastBox = $('.box').last();
      var lastBoxDis = $lastBox.offset().top + Math.floor($lastBox.outerHeight() / 2);
      var scrollTop = $(window).scrollTop();
      var documentH = $(window).height();
      return (lastBoxDis < scrollTop + documentH) ? true : false;

    }
  </script>
</body>

</html>
